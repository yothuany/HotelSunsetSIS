<Window x:Class="HotelSunset.Views.ReservasCadastrar"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:HotelSunset.Views" 
 mc:Ignorable="d"
        Title="Cadastrar Reserva" Height="480" Width="750"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen">
    <!-- Inicia a janela no centro da tela -->
    <!-- NOTA: Com ResizeMode="NoResize", apenas o botão de fechar ('X') estará visível. -->
    <!-- Os botões de minimizar e maximizar serão ocultados. -->

    <Window.Resources>
        <!-- Estilo para os rótulos dos campos -->
        <Style x:Key="LabelStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#333333"/>
            <!-- Corrigido: Cinzento escuro para melhor contraste -->
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,0,0,4"/>
        </Style>

        <!-- Estilo BASE para os campos de entrada (TextBox, ComboBox, DatePicker) -->
        <!-- REMOVIDO O TEMPLATE AQUI para que os controles usem seus templates padrão -->
        <Style x:Key="InputBaseStyle" TargetType="{x:Type Control}">
            <Setter Property="Padding" Value="5"/>
            <Setter Property="BorderBrush" Value="#D1D5DB"/>
            <!-- Cor da borda cinza claro -->
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Height" Value="30"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
        </Style>

        <!-- Estilo específico para o TextBox -->
        <Style TargetType="TextBox" BasedOn="{StaticResource InputBaseStyle}">
            <!-- Nenhuma alteração de template, herda do InputBaseStyle -->
        </Style>

        <!-- Estilo específico para o ComboBox -->
        <Style TargetType="ComboBox" BasedOn="{StaticResource InputBaseStyle}">
            <!-- Nenhuma alteração de template, herda do InputBaseStyle
                 O triângulo aparecerá porque o template padrão do ComboBox será usado. -->
        </Style>

        <!-- Estilo específico para o DatePicker -->
        <Style TargetType="DatePicker" BasedOn="{StaticResource InputBaseStyle}">
            <!-- Nenhuma alteração de template, herda do InputBaseStyle
                 O botão de calendário aparecerá porque o template padrão do DatePicker será usado. -->
        </Style>

        <!-- Estilo BASE para os botões de ação -->
        <Style x:Key="ActionButtonStyle" TargetType="Button">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Margin" Value="0,0,10,0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="5"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                BorderBrush="{TemplateBinding BorderBrush}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <!-- Triggers de Background específicos para cada botão abaixo -->
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Estilo específico para o botão Voltar -->
        <Style x:Key="BackButton" TargetType="Button" BasedOn="{StaticResource ActionButtonStyle}">
            <Setter Property="Background" Value="#6B7280"/>
            <!-- gray-500 -->
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#4A5568"/>
                    <!-- gray-700 -->
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Estilo específico para o botão Limpar -->
        <Style x:Key="ClearButton" TargetType="Button" BasedOn="{StaticResource ActionButtonStyle}">
            <Setter Property="Background" Value="#9CA3AF"/>
            <!-- gray-400 -->
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#6B7280"/>
                    <!-- gray-600 -->
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Estilo específico para o botão Salvar -->
        <Style x:Key="SaveButton" TargetType="Button" BasedOn="{StaticResource ActionButtonStyle}">
            <Setter Property="Background" Value="#F97316"/>
            <!-- orange-500 -->
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#C2410C"/>
                    <!-- orange-700 -->
                </Trigger>
            </Style.Triggers>
        </Style>

    </Window.Resources>

    <Grid>
        <!-- Fundo em gradiente: Amarelo para Vermelho/Rosa (Pôr do Sol) -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#FDE68A" Offset="0"/>
                <GradientStop Color="#FCA5A5" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Linha para espaçamento superior -->
            <RowDefinition Height="*"/>
            <!-- Linha para o conteúdo principal (formulário) -->
        </Grid.RowDefinitions>

        <!-- Área de espaçamento superior (Row 0) -->

        <!-- Formulário de Reserva (Row 1) -->
        <Border Grid.Row="1" Background="White" CornerRadius="10" Padding="10"
                HorizontalAlignment="Center" VerticalAlignment="Center" Height="423">
            <Border.Effect>
                <DropShadowEffect ShadowDepth="4" Direction="270" Color="#000000" Opacity="0.2" BlurRadius="8"/>
            </Border.Effect>

            <StackPanel Width="650">
                <!-- Largura fixa para o formulário -->
                <TextBlock FontSize="20" FontWeight="Bold" Foreground="#8B4513" Margin="0,0,0,15"><Run Language="pt-br" Text="Cadastrar"/><Run Text=" Reserva"/></TextBlock>

                <Grid Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Hóspede -->
                    <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,10,0">
                        <TextBlock Text="Hóspede:" Style="{StaticResource LabelStyle}"/>
                        <ComboBox 
                                  DisplayMemberPath="NomeCompleto"
                                  SelectedValuePath="Id"
                                  SelectedValue="{Binding HospedeId}">
                            <ComboBoxItem Content="João Silva (CPF: 111.111.111-11)"/>
                            <ComboBoxItem Content="Maria Oliveira (CPF: 222.222.222-22)"/>
                            <ComboBoxItem Content="Carlos Souza (CPF: 333.333.333-33)"/>
                        </ComboBox>
                    </StackPanel>

                    <!-- Quarto -->
                    <StackPanel Grid.Row="0" Grid.Column="1">
                        <TextBlock Text="Quarto:" Style="{StaticResource LabelStyle}"/>
                        <ComboBox 
                                 
                                  DisplayMemberPath="NumeroTipoStatus"
                                  SelectedValuePath="Id"
                                  SelectedValue="{Binding QuartoId}">
                            <!-- Removido ComboBoxItems estáticos, usar binding para dados reais -->
                            <!-- Exemplo de ComboBoxItem para Design-time (se necessário) -->
                            <ComboBoxItem Content="101 (Standard - Disponível)"/>
                            <ComboBoxItem Content="102 (Deluxe - Ocupado)"/>
                            <ComboBoxItem Content="201 (Suíte - Manutenção)"/>
                        </ComboBox>
                    </StackPanel>

                    <!-- Check-in -->
                    <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,0,10,0">
                        <TextBlock Text="Check-in:" Style="{StaticResource LabelStyle}"/>
                        <DatePicker SelectedDateFormat="Short" SelectedDate="{Binding DataCheckin}"/>
                    </StackPanel>

                    <!-- Check-out -->
                    <StackPanel Grid.Row="1" Grid.Column="1">
                        <TextBlock Text="Check-out:" Style="{StaticResource LabelStyle}"/>
                        <DatePicker  SelectedDateFormat="Short" SelectedDate="{Binding DataCheckout}"/>
                    </StackPanel>

                    <!-- Nº Hóspedes -->
                    <StackPanel Grid.Row="2" Grid.Column="0" Margin="0,0,10,0">
                        <TextBlock Text="Nº Hóspedes:" Style="{StaticResource LabelStyle}"/>
                        <TextBox  Text="{Binding NumeroHospedes}"/>
                    </StackPanel>

                    <!-- Valor Total -->
                    <StackPanel Grid.Row="2" Grid.Column="1">
                        <TextBlock Text="Valor Total:" Style="{StaticResource LabelStyle}"/>
                        <TextBox Text="0.00" />
                    </StackPanel>

                    <!-- Status -->
                    <StackPanel Grid.Row="3" Grid.Column="0" Margin="0,0,10,0">
                        <TextBlock Text="Status:" Style="{StaticResource LabelStyle}"/>
                        <ComboBox SelectedValue="{Binding StatusReserva}">
                            <ComboBoxItem Content="Pendente"/>
                            <ComboBoxItem Content="Confirmada"/>
                            <ComboBoxItem Content="Cancelada"/>
                        </ComboBox>
                    </StackPanel>

                    <!-- Tipo de Pagamento -->
                    <StackPanel Grid.Row="3" Grid.Column="1">
                        <TextBlock Text="Tipo de Pagamento:" Style="{StaticResource LabelStyle}"/>
                        <ComboBox 
                                 
                                  DisplayMemberPath="Nome"
                                  SelectedValuePath="Id"
                                  SelectedValue="{Binding TipoPagamentoId}">
                            <!-- Removido ComboBoxItems estáticos, usar binding para dados reais -->
                            <!-- Exemplo de ComboBoxItem para Design-time (se necessário) -->
                            <ComboBoxItem Content="Cartão de Crédito"/>
                            <ComboBoxItem Content="Dinheiro"/>
                            <ComboBoxItem Content="Pix"/>
                        </ComboBox>
                    </StackPanel>

                    <!-- Observações -->
                    <StackPanel Grid.Row="4" Grid.ColumnSpan="2" Margin="0,10,0,0">
                        <TextBlock Text="Observações:" Style="{StaticResource LabelStyle}"/>
                        <TextBox TextWrapping="Wrap" AcceptsReturn="True" Height="62" Width="340" HorizontalAlignment="Left"/>
                        <!-- Altura ajustada para ser mais flexível -->
                    </StackPanel>
                </Grid>

                <!-- Botões de Ação -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,-15,0,0">
                    <Button Content="Voltar" Style="{StaticResource BackButton}" Width="80" Height="30"/>
                    <Button Content="Limpar" Style="{StaticResource ClearButton}" Height="30" Width="80"/>
                    <Button Content="Salvar" Style="{StaticResource SaveButton}" Height="30" Width="80"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>
